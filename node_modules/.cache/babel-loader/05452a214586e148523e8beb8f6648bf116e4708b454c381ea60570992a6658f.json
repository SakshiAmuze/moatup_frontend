{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VISHAL\\\\Desktop\\\\Moatup\\\\moatup_frontend\\\\moatup_frontend\\\\src\\\\Components\\\\LoginForm\\\\LogIn.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../RegistrationForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LogIn = () => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [msg, setMsg] = useState(\"\");\n  const navigate = useNavigate();\n  const notifySuccess = username => toast.success(`${username}!`);\n  const notifyError = message => toast.error(message || 'An error occurred. Please try again.');\n  const onSubmit = async data => {\n    console.log(data);\n    try {\n      const response = await fetch('http://localhost:8090/user/loginuser', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          useremail: data.email,\n          userpass: data.password\n        })\n      });\n      const res = await response.json();\n      console.log(res);\n      if (res.success) {\n        notifySuccess(res.message);\n        setTimeout(() => navigate('/home'), 3000);\n      } else {\n        setMsg(res.msg);\n        notifyError(res.msg);\n      }\n    } catch (err) {\n      console.log(err);\n      setMsg('An error occurred. Please try again.');\n      notifyError();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"LogIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Email Id\",\n            id: \"email\",\n            ...register('email', {\n              required: 'Email is required',\n              pattern: {\n                value: /^\\S+@\\S+$/i,\n                message: 'Invalid email'\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 19\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Password\",\n            id: \"password\",\n            ...register('password', {\n              required: 'Password is required'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 19\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-button\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"acc\",\n          children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signin\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(LogIn, \"OjtwBfwK7fsNj4pHquWuEKecJGM=\", false, function () {\n  return [useForm, useNavigate];\n});\n_c = LogIn;\nexport default LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["React","useState","useForm","Link","useNavigate","ToastContainer","toast","jsxDEV","_jsxDEV","LogIn","_s","register","handleSubmit","formState","errors","msg","setMsg","navigate","notifySuccess","username","success","notifyError","message","error","onSubmit","data","console","log","response","fetch","method","headers","credentials","body","JSON","stringify","useremail","email","userpass","password","res","json","setTimeout","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","id","required","pattern","value","to","_c","$RefreshReg$"],"sources":["C:/Users/VISHAL/Desktop/Moatup/moatup_frontend/moatup_frontend/src/Components/LoginForm/LogIn.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../RegistrationForm.css'; \r\n\r\nconst LogIn = () => {\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n  const[msg,setMsg] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const notifySuccess = (username) => toast.success(`${username}!`);\r\n  const notifyError = (message) => toast.error(message || 'An error occurred. Please try again.');\r\n\r\n  const onSubmit = async (data) => {\r\n      console.log(data);\r\n\r\n      try {\r\n          const response = await fetch('http://localhost:8090/user/loginuser', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              credentials: 'include', \r\n              body: JSON.stringify({\r\n                  useremail: data.email,\r\n                  userpass: data.password\r\n              })\r\n          });\r\n\r\n          const res = await response.json();\r\n          console.log(res);\r\n\r\n          if (res.success) {\r\n              notifySuccess(res.message);  \r\n              setTimeout(() => navigate('/home'), 3000);  \r\n          } else {\r\n              setMsg(res.msg);\r\n              notifyError(res.msg);\r\n          }\r\n      } catch (err) {\r\n          console.log(err);\r\n          setMsg('An error occurred. Please try again.');\r\n          notifyError();\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className=\"center-wrapper\">\r\n      <div className=\"form-container\">\r\n          <h2>LogIn</h2>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n              <div className=\"input-group\">\r\n                  <input \r\n                      type=\"email\" \r\n                      placeholder='Email Id'\r\n                      id=\"email\" \r\n                      {...register('email', { \r\n                          required: 'Email is required', \r\n                          pattern: { value: /^\\S+@\\S+$/i, message: 'Invalid email' }\r\n                      })} \r\n                  />\r\n                  {errors.email && <p className=\"error\">{errors.email.message}</p>}\r\n              </div>\r\n\r\n              <div className=\"input-group\">\r\n                  <input \r\n                      type=\"password\"\r\n                      placeholder='Password'\r\n                      id=\"password\" \r\n                      {...register('password', { required: 'Password is required' })} \r\n                  />\r\n                  {errors.password && <p className=\"error\">{errors.password.message}</p>}\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"submit-button\">Log In</button>\r\n              <span className='acc'>Don't have an account? <Link to=\"/signin\">Register</Link></span>\r\n          </form>\r\n              {msg && <p className=\"message\">{msg}</p>}\r\n      \r\n    \r\n      <ToastContainer />\r\n      </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}